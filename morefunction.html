<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Voting - Rock & Roll Vibes</title>
<link href="https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap" rel="stylesheet">
<link rel="stylesheet" href="IONOW.css">
<style>
body {
    margin: 0;
    padding: 0;
    font-family: 'Rock Salt', cursive;
    color: #fff;
    background-image: url('https://i.pinimg.com/736x/a5/d7/4e/a5d74e89d8690687fc16d99b5967e127.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.navbar {
    position: fixed;
    top: 0;
    width: 100%;
    background: rgba(0,0,0,0.7);
    padding: 10px 0;
    text-align: center;
    z-index: 2000;
}

.nav-btn {
    color: white;
    text-decoration: none;
    margin: 0 10px;
    font-size: 18px;
    transition: 0.3s;
}

.nav-btn:hover {
    color: #ff3b3b;
    text-shadow: 0 0 10px #ff3b3b;
}

.form-container {
    background: rgba(0,0,0,0.8);
    padding: 40px;
    border-radius: 12px;
    box-shadow: 0 0 25px #ff3b3b;
    max-width: 500px;
    width: 90%;
    text-align: center;
}

h2 {
    font-size: 2em;
    margin-bottom: 20px;
    text-shadow: 2px 2px #ff0000, 4px 4px #ff9900;
}

label {
    display: block;
    margin: 15px 0 5px;
    font-size: 18px;
}

select, textarea, button {
    width: 100%;
    padding: 10px;
    border-radius: 10px;
    border: none;
    font-family: 'Rock Salt', cursive;
    margin-bottom: 15px;
    font-size: 16px;
}

button {
    background-color: #ff3b3b;
    color: white;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 0 0 15px #ff3b3b;
    transition: 0.3s;
}

button:hover {
    background-color: #d62d2d;
    transform: scale(1.05);
    box-shadow: 0 0 25px #ff3b3b;
}

#welcomeMessage {
    margin-bottom: 15px;
    font-size: 18px;
    color: #ffd700;
    text-shadow: 1px 1px #ff0000;
}
</style>
</head>

<body>
<nav class="navbar">
  <a href="FINGER.html" class="nav-btn">Home</a>
  <a href="about.html" class="nav-btn">About Us</a>
  <a href="contact.html" class="nav-btn">Contact Us</a>
  <a href="function.html" class="nav-btn">Genres</a>
  <a href="morefunction.html" class="nav-btn">Voting</a>
  <a href="#" class="nav-btn" onclick="logout()">Logout</a>
</nav>

<div class="form-container">
    <h2>Vote for Your Favorite Genre</h2>
    <p id="welcomeMessage"></p>

    <label for="genre">Select Genre:</label>
    <select id="genre">
        <option value="rock">Rock</option>
        <option value="rnb">R&B</option>
        <option value="reggae">Reggae</option>
        <option value="jazz">Jazz</option>
        <option value="country">Country</option>
        <option value="electronic">Electronic</option>
        <option value="classical">Classical</option>
        <option value="hiphop">Hip-Hop</option>
        <option value="pop">Pop</option>
    </select>

    <label for="message">Your Message:</label>
    <textarea id="message" rows="4" placeholder="Write your message here..."></textarea>
    <button onclick="saveMessage()">Submit</button>
</div>

<script>
// Ensure user is logged in
const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
if(!loggedInUser){
    alert("Please log in first.");
    window.location.href = 'account.html';
} else {
    document.getElementById('welcomeMessage').innerText = `Logged in as ${loggedInUser.username} (Age: ${loggedInUser.age})`;
}

// Save message with username
function saveMessage() {
    const genre = document.getElementById('genre').value;
    const msg = document.getElementById('message').value.trim();
    if(!msg) { alert("Please write a message."); return; }

    const key = genre + "_messages";
    let messages = JSON.parse(localStorage.getItem(key)) || [];
    messages.push({user: loggedInUser.username, message: msg});
    localStorage.setItem(key, JSON.stringify(messages));

    alert("Your message has been submitted!");
    document.getElementById('message').value = '';
}

// Logout function
function logout(){
    localStorage.removeItem('loggedInUser');
    window.location.href = 'account.html';
}
</script>

</body>
</html>